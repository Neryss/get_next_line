read the stdin with the buffer
store it in another buffer
read line by line detecting the nl
until ctrl c ?